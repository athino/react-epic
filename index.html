<!DOCTYPE html>
<!DOCTYPE html>
<html lang="no">

<head>
  <meta charSet="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="" />
  <title class="cushycms"></title>
  <div class="cushycms-text"></div>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Roboto+Mono:ital,wght@0,100..700;1,100..700&family=Roboto:ital,wght@0,100..900;1,100..900&display=swap');

    body {
      margin: 0;
    }

    * {
      font-family: "Roboto", sans-serif;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }
  </style>
  <style data-styled="" data-styled-version="6.1.14">
    .tnWI {
      position: relative;
      overflow: hidden;
      min-height: 100%;
      width: 100%;
      margin: 0;
      color: white;
      box-sizing: border-box;
      display: inline-block;
      min-width: 300px;
    }

    /*!sc*/
    .tnWI pre {
      margin: 0;
      padding: 20px;
      border-radius: 8px;
    }

    /*!sc*/
    .tnWI pre,
    .tnWI pre * {
      font-family: "Roboto Mono", serif;
      font-size: 14px;
    }

    /*!sc*/
    data-styled.g1[id="sc-KXCwU"] {
      content: "tnWI,"
    }

    /*!sc*/
    .ioKIXQ {
      overflow: hidden;
      min-height: 100%;
      margin: 0;
      background: #181b20;
      color: white;
    }

    /*!sc*/
    data-styled.g2[id="sc-gyycJP"] {
      content: "ioKIXQ,"
    }

    /*!sc*/
    .jhwxht {
      position: absolute;
      height: 100dvh;
      left: 260px;
      right: 0;
      overscroll-behavior: contain;
      overflow-y: auto;
      background: white;
      color: #181b20;
    }

    /*!sc*/
    data-styled.g3[id="sc-eaUbBy"] {
      content: "jhwxht,"
    }

    /*!sc*/
    .gGoQjv {
      position: absolute;
      height: 100dvh;
      left: 0;
      top: 0;
      width: 260px;
      overscroll-behavior: contain;
      overflow-y: auto;
      background: #252830;
      color: white;
    }

    /*!sc*/
    data-styled.g4[id="sc-gaZyOd"] {
      content: "gGoQjv,"
    }

    /*!sc*/
    .ddwJXo {
      position: absolute;
      left: 20px;
      right: 20px;
      top: 20px;
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    /*!sc*/
    data-styled.g5[id="sc-dDvxFM"] {
      content: "ddwJXo,"
    }

    /*!sc*/
    .dZjdXE {
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 800;
      font-size: 24px;
      color: #f6f6f6;
      letter-spacing: 0.12em;
      height: 70px;
      background: #20222a;
    }

    /*!sc*/
    data-styled.g6[id="sc-jqVXSH"] {
      content: "dZjdXE,"
    }

    /*!sc*/
    .kuttPF {
      display: flex;
      height: 70px;
      background: rgb(246, 246, 247);
    }

    /*!sc*/
    data-styled.g7[id="sc-gTrWKq"] {
      content: "kuttPF,"
    }

    /*!sc*/
    .gtbGMd {
      font-size: 28px;
      font-weight: 500;
    }

    /*!sc*/
    data-styled.g8[id="sc-kuACkN"] {
      content: "gtbGMd,"
    }

    /*!sc*/
    .bTIIDm {
      color: rgb(60, 60, 67);
      font-size: 16px;
    }

    /*!sc*/
    data-styled.g9[id="sc-hWWBcw"] {
      content: "bTIIDm,"
    }

    /*!sc*/
  </style>
</head>

<body class="sc-gyycJP ioKIXQ">
  <div class="sc-gaZyOd gGoQjv">
    <div class="sc-jqVXSH dZjdXE">REACTIONS</div>
  </div>
  <div class="sc-eaUbBy jhwxht">
    <div class="sc-gTrWKq kuttPF"></div>
    <div class="sc-dDvxFM ddwJXo">
      <div class="sc-kuACkN gtbGMd">Usage</div>
      <div class="sc-hWWBcw bTIIDm">1. Setting up domain actions</div>
      <div class="sc-hWWBcw bTIIDm">Within your app, for instance under
        `@/user/`, add a file called `userActions.ts`.</div>
      <div class="sc-KXCwU tnWI">
        <pre class="shiki one-light"
          style="background-color:#FAFAFA;color:#383A42" tabindex="0"><code><span class="line"><span style="color:#A0A1A7;font-style:italic">// ./app.tsx</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A626A4">import</span><span style="color:#E45649"> React</span><span style="color:#A626A4"> from</span><span style="color:#50A14F"> 'react'</span><span style="color:#383A42">;</span></span>
<span class="line"><span style="color:#A626A4">import</span><span style="color:#383A42"> { </span><span style="color:#E45649">Component</span><span style="color:#383A42"> } </span><span style="color:#A626A4">from</span><span style="color:#50A14F"> './example/component/component'</span><span style="color:#383A42">;</span></span>
<span class="line"><span style="color:#A626A4">import</span><span style="color:#383A42"> { </span><span style="color:#E45649">Provider</span><span style="color:#383A42"> } </span><span style="color:#A626A4">from</span><span style="color:#50A14F"> './example/state/consumer'</span><span style="color:#383A42">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A626A4">export</span><span style="color:#A626A4"> const</span><span style="color:#4078F2"> App</span><span style="color:#0184BC"> =</span><span style="color:#383A42"> () </span><span style="color:#A626A4">=></span><span style="color:#383A42"> {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A626A4">    return</span><span style="color:#383A42"> (</span></span>
<span class="line"><span style="color:#383A42">        &#x3C;</span><span style="color:#C18401">Provider</span><span style="color:#383A42">></span></span>
<span class="line"><span style="color:#383A42">            &#x3C;</span><span style="color:#C18401">Component</span><span style="color:#383A42">/></span></span>
<span class="line"><span style="color:#383A42">        &#x3C;/</span><span style="color:#C18401">Provider</span><span style="color:#383A42">></span></span>
<span class="line"><span style="color:#383A42">    )</span></span>
<span class="line"><span style="color:#383A42">}</span></span>
<span class="line"></span></code></pre>
      </div>
      <div class="sc-KXCwU tnWI">
        <pre class="shiki one-light"
          style="background-color:#FAFAFA;color:#383A42" tabindex="0"><code><span class="line"><span style="color:#A0A1A7;font-style:italic">// ./delta/deltaState.ts</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A626A4">import</span><span style="color:#383A42"> { </span><span style="color:#E45649">createState</span><span style="color:#383A42">, </span><span style="color:#E45649">DefineState</span><span style="color:#383A42"> } </span><span style="color:#A626A4">from</span><span style="color:#50A14F"> '../../epic'</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A626A4">type</span><span style="color:#C18401"> TDeltaState</span><span style="color:#0184BC"> =</span><span style="color:#C18401"> DefineState</span><span style="color:#383A42">&#x3C;{</span></span>
<span class="line"><span style="color:#383A42">    value</span><span style="color:#0184BC">:</span><span style="color:#383A42"> string</span></span>
<span class="line"><span style="color:#383A42">}></span></span>
<span class="line"></span>
<span class="line"><span style="color:#A626A4">export</span><span style="color:#A626A4"> const</span><span style="color:#986801"> state</span><span style="color:#0184BC"> =</span><span style="color:#4078F2"> createState</span><span style="color:#383A42">&#x3C;</span><span style="color:#C18401">TDeltaState</span><span style="color:#383A42">>({</span></span>
<span class="line"><span style="color:#383A42">    value</span><span style="color:#0184BC">:</span><span style="color:#50A14F"> 'skriv her...'</span></span>
<span class="line"><span style="color:#383A42">})</span></span>
<span class="line"></span></code></pre>
      </div>
      <div class="sc-KXCwU tnWI">
        <pre class="shiki one-light"
          style="background-color:#FAFAFA;color:#383A42" tabindex="0"><code><span class="line"><span style="color:#A0A1A7;font-style:italic">// ./state/consumer.ts</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A626A4">import</span><span style="color:#383A42"> { </span><span style="color:#E45649">root</span><span style="color:#383A42"> } </span><span style="color:#A626A4">from</span><span style="color:#50A14F"> './root'</span></span>
<span class="line"><span style="color:#A626A4">import</span><span style="color:#383A42"> { effects as </span><span style="color:#E45649">deltaEffects</span><span style="color:#383A42"> } </span><span style="color:#A626A4">from</span><span style="color:#50A14F"> '../delta/deltaEffects'</span></span>
<span class="line"><span style="color:#A626A4">import</span><span style="color:#383A42"> { effects as </span><span style="color:#E45649">echoEffects</span><span style="color:#383A42"> } </span><span style="color:#A626A4">from</span><span style="color:#50A14F"> '../echo/echoEffects'</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A626A4">const</span><span style="color:#986801"> consumer</span><span style="color:#0184BC"> =</span><span style="color:#E45649"> root</span><span style="color:#383A42">.</span><span style="color:#4078F2">createConsumer</span><span style="color:#383A42">({</span></span>
<span class="line"><span style="color:#383A42">    effects</span><span style="color:#0184BC">:</span><span style="color:#383A42"> [</span></span>
<span class="line"><span style="color:#0184BC">        ...</span><span style="color:#C18401">deltaEffects</span><span style="color:#383A42">.</span><span style="color:#4078F2">getEffects</span><span style="color:#383A42">(),</span></span>
<span class="line"><span style="color:#0184BC">        ...</span><span style="color:#C18401">echoEffects</span><span style="color:#383A42">.</span><span style="color:#4078F2">getEffects</span><span style="color:#383A42">()</span></span>
<span class="line"><span style="color:#383A42">    ]</span></span>
<span class="line"><span style="color:#383A42">})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A626A4">export</span><span style="color:#A626A4"> const</span><span style="color:#986801"> useActions</span><span style="color:#0184BC"> =</span><span style="color:#E45649"> consumer</span><span style="color:#383A42">.</span><span style="color:#4078F2">createHook</span><span style="color:#383A42">()</span></span>
<span class="line"><span style="color:#A626A4">export</span><span style="color:#A626A4"> const</span><span style="color:#986801"> Provider</span><span style="color:#0184BC"> =</span><span style="color:#E45649"> consumer</span><span style="color:#383A42">.</span><span style="color:#4078F2">createProvider</span><span style="color:#383A42">()</span></span>
<span class="line"></span></code></pre>
      </div>
      <div class="sc-KXCwU tnWI">
        <pre class="shiki one-light"
          style="background-color:#FAFAFA;color:#383A42" tabindex="0"><code><span class="line"><span style="color:#A0A1A7;font-style:italic">// ./state/root.ts</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A626A4">import</span><span style="color:#383A42"> { </span><span style="color:#E45649">createRoot</span><span style="color:#383A42"> } </span><span style="color:#A626A4">from</span><span style="color:#50A14F"> '../../epic/index'</span></span>
<span class="line"><span style="color:#A626A4">import</span><span style="color:#383A42"> { reducer as </span><span style="color:#E45649">deltaReducer</span><span style="color:#383A42"> } </span><span style="color:#A626A4">from</span><span style="color:#50A14F"> '../delta/deltaReducer'</span></span>
<span class="line"><span style="color:#A626A4">import</span><span style="color:#383A42"> { reducer as </span><span style="color:#E45649">echoReducer</span><span style="color:#383A42"> } </span><span style="color:#A626A4">from</span><span style="color:#50A14F"> '../echo/echoReducer'</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A626A4">export</span><span style="color:#A626A4"> const</span><span style="color:#986801"> root</span><span style="color:#0184BC"> =</span><span style="color:#4078F2"> createRoot</span><span style="color:#383A42">({</span></span>
<span class="line"><span style="color:#383A42">    domains</span><span style="color:#0184BC">:</span><span style="color:#383A42"> {</span></span>
<span class="line"><span style="color:#383A42">        delta</span><span style="color:#0184BC">:</span><span style="color:#383A42"> deltaReducer,</span></span>
<span class="line"><span style="color:#383A42">        echo</span><span style="color:#0184BC">:</span><span style="color:#383A42"> echoReducer</span></span>
<span class="line"><span style="color:#383A42">    }</span></span>
<span class="line"><span style="color:#383A42">})</span></span>
<span class="line"></span></code></pre>
      </div>
      <div class="sc-KXCwU tnWI">
        <pre class="shiki one-light"
          style="background-color:#FAFAFA;color:#383A42" tabindex="0"><code><span class="line"><span style="color:#A0A1A7;font-style:italic">// ./component/component.tsx</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A626A4">import</span><span style="color:#E45649"> React</span><span style="color:#A626A4"> from</span><span style="color:#50A14F"> "react"</span></span>
<span class="line"><span style="color:#A626A4">import</span><span style="color:#383A42"> { </span><span style="color:#E45649">useActions</span><span style="color:#383A42"> } </span><span style="color:#A626A4">from</span><span style="color:#50A14F"> "../state/consumer"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A626A4">export</span><span style="color:#A626A4"> const</span><span style="color:#4078F2"> Component</span><span style="color:#0184BC"> =</span><span style="color:#383A42"> () </span><span style="color:#A626A4">=></span><span style="color:#383A42"> {</span></span>
<span class="line"><span style="color:#A626A4">    const</span><span style="color:#383A42"> {</span><span style="color:#986801">actions</span><span style="color:#383A42">, </span><span style="color:#986801">data</span><span style="color:#383A42">} </span><span style="color:#0184BC">=</span><span style="color:#4078F2"> useActions</span><span style="color:#383A42">(({echo, delta}) </span><span style="color:#A626A4">=></span><span style="color:#383A42"> ({</span></span>
<span class="line"><span style="color:#383A42">        searchResult</span><span style="color:#0184BC">:</span><span style="color:#E45649"> echo</span><span style="color:#383A42">.</span><span style="color:#E45649">searchResult</span><span style="color:#383A42">,</span></span>
<span class="line"><span style="color:#383A42">        value</span><span style="color:#0184BC">:</span><span style="color:#E45649"> delta</span><span style="color:#383A42">.</span><span style="color:#E45649">value</span><span style="color:#383A42">,</span></span>
<span class="line"><span style="color:#383A42">        searching</span><span style="color:#0184BC">:</span><span style="color:#E45649"> echo</span><span style="color:#383A42">.</span><span style="color:#E45649">searching</span></span>
<span class="line"><span style="color:#383A42">    }))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A626A4">    return</span><span style="color:#383A42"> (</span></span>
<span class="line"><span style="color:#383A42">        &#x3C;</span><span style="color:#E45649">div</span><span style="color:#383A42">></span></span>
<span class="line"><span style="color:#383A42">            &#x3C;</span><span style="color:#E45649">input</span></span>
<span class="line"><span style="color:#986801">                type</span><span style="color:#383A42">=</span><span style="color:#50A14F">'text'</span></span>
<span class="line"><span style="color:#986801">                value</span><span style="color:#383A42">={</span><span style="color:#E45649">data</span><span style="color:#383A42">.</span><span style="color:#E45649">value</span><span style="color:#383A42">}</span></span>
<span class="line"><span style="color:#986801">                onChange</span><span style="color:#383A42">={({target}) </span><span style="color:#A626A4">=></span><span style="color:#383A42"> {</span></span>
<span class="line"><span style="color:#E45649">                    actions</span><span style="color:#383A42">.</span><span style="color:#E45649">delta</span><span style="color:#383A42">.</span><span style="color:#4078F2">setSearchValue</span><span style="color:#383A42">({</span></span>
<span class="line"><span style="color:#383A42">                        value</span><span style="color:#0184BC">:</span><span style="color:#E45649"> target</span><span style="color:#383A42">.</span><span style="color:#E45649">value</span></span>
<span class="line"><span style="color:#383A42">                    })</span></span>
<span class="line"><span style="color:#383A42">                }}/></span></span>
<span class="line"><span style="color:#383A42">            &#x3C;</span><span style="color:#E45649">div</span><span style="color:#383A42">></span></span>
<span class="line"><span style="color:#383A42">                Search result: </span><span style="color:#CA1243">{</span><span style="color:#E45649">data</span><span style="color:#383A42">.</span><span style="color:#E45649">searching</span><span style="color:#0184BC"> ?</span><span style="color:#50A14F"> 'Searching...'</span><span style="color:#0184BC"> :</span><span style="color:#E45649"> data</span><span style="color:#383A42">.</span><span style="color:#E45649">searchResult</span><span style="color:#CA1243">}</span></span>
<span class="line"><span style="color:#383A42">            &#x3C;/</span><span style="color:#E45649">div</span><span style="color:#383A42">></span></span>
<span class="line"><span style="color:#383A42">        &#x3C;/</span><span style="color:#E45649">div</span><span style="color:#383A42">></span></span>
<span class="line"><span style="color:#383A42">    )</span></span>
<span class="line"><span style="color:#383A42">}</span></span>
<span class="line"></span></code></pre>
      </div>
      <div class="sc-KXCwU tnWI">
        <pre class="shiki one-light"
          style="background-color:#FAFAFA;color:#383A42" tabindex="0"><code><span class="line"><span style="color:#A0A1A7;font-style:italic">// ./echo/echoActions.ts</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A626A4">import</span><span style="color:#383A42"> { </span><span style="color:#E45649">DefineActions</span><span style="color:#383A42"> } </span><span style="color:#A626A4">from</span><span style="color:#50A14F"> "../../epic"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A626A4">export</span><span style="color:#A626A4"> type</span><span style="color:#C18401"> TEchoActions</span><span style="color:#0184BC"> =</span><span style="color:#C18401"> DefineActions</span><span style="color:#383A42">&#x3C;{</span></span>
<span class="line"></span>
<span class="line"><span style="color:#383A42">    setSearchResult</span><span style="color:#0184BC">:</span><span style="color:#383A42"> {</span></span>
<span class="line"><span style="color:#383A42">        payload</span><span style="color:#0184BC">:</span><span style="color:#383A42"> {</span></span>
<span class="line"><span style="color:#383A42">            searchResult</span><span style="color:#0184BC">:</span><span style="color:#383A42"> number</span></span>
<span class="line"><span style="color:#383A42">        }</span></span>
<span class="line"><span style="color:#383A42">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#383A42">    setSearching</span><span style="color:#0184BC">:</span><span style="color:#383A42"> {</span></span>
<span class="line"><span style="color:#383A42">        payload</span><span style="color:#0184BC">:</span><span style="color:#383A42"> {</span></span>
<span class="line"><span style="color:#383A42">            searching</span><span style="color:#0184BC">:</span><span style="color:#383A42"> boolean</span></span>
<span class="line"><span style="color:#383A42">        }</span></span>
<span class="line"><span style="color:#383A42">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#383A42">}></span></span>
<span class="line"></span></code></pre>
      </div>
      <div class="sc-KXCwU tnWI">
        <pre class="shiki one-light"
          style="background-color:#FAFAFA;color:#383A42" tabindex="0"><code><span class="line"><span style="color:#A0A1A7;font-style:italic">// ./echo/echoEffects.ts</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A626A4">import</span><span style="color:#383A42"> { </span><span style="color:#E45649">root</span><span style="color:#383A42"> } </span><span style="color:#A626A4">from</span><span style="color:#50A14F"> "../state/root"</span><span style="color:#383A42">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A626A4">export</span><span style="color:#A626A4"> const</span><span style="color:#986801"> effects</span><span style="color:#0184BC"> =</span><span style="color:#E45649"> root</span><span style="color:#383A42">.</span><span style="color:#4078F2">createEffects</span><span style="color:#383A42">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E45649">effects</span><span style="color:#383A42">.</span><span style="color:#4078F2">addEffect</span><span style="color:#383A42">({</span></span>
<span class="line"><span style="color:#383A42">    domain</span><span style="color:#0184BC">:</span><span style="color:#50A14F"> 'delta'</span><span style="color:#383A42">,</span></span>
<span class="line"><span style="color:#383A42">    action</span><span style="color:#0184BC">:</span><span style="color:#50A14F"> 'setSearchValue'</span><span style="color:#383A42">,</span></span>
<span class="line"><span style="color:#383A42">    type</span><span style="color:#0184BC">:</span><span style="color:#50A14F"> 'takeLatest'</span><span style="color:#383A42">,</span></span>
<span class="line"><span style="color:#A626A4">    async</span><span style="color:#4078F2"> handler</span><span style="color:#383A42">(ctx) {</span></span>
<span class="line"><span style="color:#A626A4">        if</span><span style="color:#383A42"> (</span><span style="color:#E45649">ctx</span><span style="color:#383A42">.</span><span style="color:#E45649">action</span><span style="color:#383A42">.</span><span style="color:#E45649">payload</span><span style="color:#383A42">.</span><span style="color:#E45649">value</span><span style="color:#0184BC"> !==</span><span style="color:#50A14F"> ''</span><span style="color:#383A42">) {</span></span>
<span class="line"><span style="color:#E45649">            ctx</span><span style="color:#383A42">.</span><span style="color:#E45649">actions</span><span style="color:#383A42">.</span><span style="color:#E45649">echo</span><span style="color:#383A42">.</span><span style="color:#4078F2">setSearching</span><span style="color:#383A42">({ searching</span><span style="color:#0184BC">:</span><span style="color:#986801"> true</span><span style="color:#383A42"> })</span></span>
<span class="line"><span style="color:#A626A4">            await</span><span style="color:#4078F2"> sleep</span><span style="color:#383A42">(</span><span style="color:#986801">2000</span><span style="color:#383A42">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E45649">            ctx</span><span style="color:#383A42">.</span><span style="color:#4078F2">call</span><span style="color:#383A42">(() </span><span style="color:#A626A4">=></span><span style="color:#383A42"> {</span></span>
<span class="line"><span style="color:#E45649">                console</span><span style="color:#383A42">.</span><span style="color:#4078F2">log</span><span style="color:#383A42">(</span><span style="color:#50A14F">'"Started" fetch...'</span><span style="color:#383A42">)</span></span>
<span class="line"><span style="color:#383A42">            })</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E45649">            ctx</span><span style="color:#383A42">.</span><span style="color:#E45649">actions</span><span style="color:#383A42">.</span><span style="color:#E45649">echo</span><span style="color:#383A42">.</span><span style="color:#4078F2">setSearchResult</span><span style="color:#383A42">({</span></span>
<span class="line"><span style="color:#383A42">                searchResult</span><span style="color:#0184BC">:</span><span style="color:#E45649"> ctx</span><span style="color:#383A42">.</span><span style="color:#E45649">state</span><span style="color:#383A42">.</span><span style="color:#E45649">echo</span><span style="color:#383A42">.</span><span style="color:#E45649">searchResult</span><span style="color:#0184BC"> +</span><span style="color:#986801"> 1</span></span>
<span class="line"><span style="color:#383A42">            })</span></span>
<span class="line"><span style="color:#383A42">        } </span><span style="color:#A626A4">else</span><span style="color:#383A42"> {</span></span>
<span class="line"><span style="color:#E45649">            ctx</span><span style="color:#383A42">.</span><span style="color:#E45649">actions</span><span style="color:#383A42">.</span><span style="color:#E45649">echo</span><span style="color:#383A42">.</span><span style="color:#4078F2">setSearching</span><span style="color:#383A42">({ searching</span><span style="color:#0184BC">:</span><span style="color:#986801"> false</span><span style="color:#383A42"> })</span></span>
<span class="line"><span style="color:#383A42">        }</span></span>
<span class="line"><span style="color:#383A42">    }</span></span>
<span class="line"><span style="color:#383A42">})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A626A4">const</span><span style="color:#4078F2"> sleep</span><span style="color:#0184BC"> =</span><span style="color:#383A42"> (ms</span><span style="color:#0184BC">:</span><span style="color:#0184BC"> number</span><span style="color:#383A42">)</span><span style="color:#0184BC">:</span><span style="color:#C18401"> Promise</span><span style="color:#383A42">&#x3C;void> </span><span style="color:#A626A4">=></span><span style="color:#383A42"> {</span></span>
<span class="line"><span style="color:#A626A4">    return</span><span style="color:#A626A4"> new</span><span style="color:#C18401"> Promise</span><span style="color:#383A42">(resolve </span><span style="color:#A626A4">=></span><span style="color:#4078F2"> setTimeout</span><span style="color:#383A42">(resolve, ms))</span></span>
<span class="line"><span style="color:#383A42">}</span></span>
<span class="line"></span></code></pre>
      </div>
      <div class="sc-KXCwU tnWI">
        <pre class="shiki one-light"
          style="background-color:#FAFAFA;color:#383A42" tabindex="0"><code><span class="line"><span style="color:#A0A1A7;font-style:italic">// ./echo/echoReducer.ts</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A626A4">import</span><span style="color:#383A42"> { </span><span style="color:#E45649">state</span><span style="color:#383A42"> } </span><span style="color:#A626A4">from</span><span style="color:#50A14F"> './echoState'</span></span>
<span class="line"><span style="color:#A626A4">import</span><span style="color:#383A42"> { </span><span style="color:#E45649">TEchoActions</span><span style="color:#383A42"> } </span><span style="color:#A626A4">from</span><span style="color:#50A14F"> './echoActions'</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A626A4">export</span><span style="color:#A626A4"> const</span><span style="color:#986801"> reducer</span><span style="color:#0184BC"> =</span><span style="color:#E45649"> state</span><span style="color:#383A42">.</span><span style="color:#4078F2">createReducer</span><span style="color:#383A42">&#x3C;</span><span style="color:#C18401">TEchoActions</span><span style="color:#383A42">>({</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4078F2">    setSearchResult</span><span style="color:#383A42">({state, payload}) {</span></span>
<span class="line"><span style="color:#E45649">        state</span><span style="color:#383A42">.</span><span style="color:#E45649">searchResult</span><span style="color:#0184BC"> =</span><span style="color:#E45649"> payload</span><span style="color:#383A42">.</span><span style="color:#E45649">searchResult</span></span>
<span class="line"><span style="color:#E45649">        state</span><span style="color:#383A42">.</span><span style="color:#E45649">searching</span><span style="color:#0184BC"> =</span><span style="color:#986801"> false</span></span>
<span class="line"><span style="color:#383A42">    },</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4078F2">    setSearching</span><span style="color:#383A42">({state, payload}) {</span></span>
<span class="line"><span style="color:#E45649">        state</span><span style="color:#383A42">.</span><span style="color:#E45649">searching</span><span style="color:#0184BC"> =</span><span style="color:#E45649"> payload</span><span style="color:#383A42">.</span><span style="color:#E45649">searching</span></span>
<span class="line"><span style="color:#383A42">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#383A42">})</span></span>
<span class="line"></span></code></pre>
      </div>
      <div class="sc-KXCwU tnWI">
        <pre class="shiki one-light"
          style="background-color:#FAFAFA;color:#383A42" tabindex="0"><code><span class="line"><span style="color:#A0A1A7;font-style:italic">// ./echo/echoState.ts</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A626A4">import</span><span style="color:#383A42"> { </span><span style="color:#E45649">createState</span><span style="color:#383A42">, </span><span style="color:#E45649">DefineState</span><span style="color:#383A42"> } </span><span style="color:#A626A4">from</span><span style="color:#50A14F"> '../../epic'</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A626A4">type</span><span style="color:#C18401"> TEchoState</span><span style="color:#0184BC"> =</span><span style="color:#C18401"> DefineState</span><span style="color:#383A42">&#x3C;{</span></span>
<span class="line"><span style="color:#383A42">    searchResult</span><span style="color:#0184BC">:</span><span style="color:#383A42"> number,</span></span>
<span class="line"><span style="color:#383A42">    searching</span><span style="color:#0184BC">:</span><span style="color:#383A42"> boolean</span></span>
<span class="line"><span style="color:#383A42">}></span></span>
<span class="line"></span>
<span class="line"><span style="color:#A626A4">export</span><span style="color:#A626A4"> const</span><span style="color:#986801"> state</span><span style="color:#0184BC"> =</span><span style="color:#4078F2"> createState</span><span style="color:#383A42">&#x3C;</span><span style="color:#C18401">TEchoState</span><span style="color:#383A42">>({</span></span>
<span class="line"><span style="color:#383A42">    searchResult</span><span style="color:#0184BC">:</span><span style="color:#986801"> 0</span><span style="color:#383A42">,</span></span>
<span class="line"><span style="color:#383A42">    searching</span><span style="color:#0184BC">:</span><span style="color:#986801"> false</span></span>
<span class="line"><span style="color:#383A42">})</span></span>
<span class="line"></span></code></pre>
      </div>
      <div class="sc-KXCwU tnWI">
        <pre class="shiki one-light"
          style="background-color:#FAFAFA;color:#383A42" tabindex="0"><code><span class="line"><span style="color:#A0A1A7;font-style:italic">// ./delta/deltaActions.ts</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A626A4">import</span><span style="color:#383A42"> { </span><span style="color:#E45649">DefineActions</span><span style="color:#383A42"> } </span><span style="color:#A626A4">from</span><span style="color:#50A14F"> "../../epic"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A626A4">export</span><span style="color:#A626A4"> type</span><span style="color:#C18401"> TDeltaActions</span><span style="color:#0184BC"> =</span><span style="color:#C18401"> DefineActions</span><span style="color:#383A42">&#x3C;{</span></span>
<span class="line"></span>
<span class="line"><span style="color:#383A42">    setSearchValue</span><span style="color:#0184BC">:</span><span style="color:#383A42"> {</span></span>
<span class="line"><span style="color:#383A42">        payload</span><span style="color:#0184BC">:</span><span style="color:#383A42"> {</span></span>
<span class="line"><span style="color:#383A42">            value</span><span style="color:#0184BC">:</span><span style="color:#383A42"> string</span></span>
<span class="line"><span style="color:#383A42">        }</span></span>
<span class="line"><span style="color:#383A42">    }</span></span>
<span class="line"><span style="color:#383A42">    </span></span>
<span class="line"><span style="color:#383A42">}></span></span>
<span class="line"></span></code></pre>
      </div>
      <div class="sc-KXCwU tnWI">
        <pre class="shiki one-light"
          style="background-color:#FAFAFA;color:#383A42" tabindex="0"><code><span class="line"><span style="color:#A0A1A7;font-style:italic">// ./delta/deltaEffects.ts</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A626A4">import</span><span style="color:#383A42"> { </span><span style="color:#E45649">root</span><span style="color:#383A42"> } </span><span style="color:#A626A4">from</span><span style="color:#50A14F"> "../state/root"</span><span style="color:#383A42">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A626A4">export</span><span style="color:#A626A4"> const</span><span style="color:#986801"> effects</span><span style="color:#0184BC"> =</span><span style="color:#E45649"> root</span><span style="color:#383A42">.</span><span style="color:#4078F2">createEffects</span><span style="color:#383A42">()</span></span>
<span class="line"></span></code></pre>
      </div>
      <div class="sc-KXCwU tnWI">
        <pre class="shiki one-light"
          style="background-color:#FAFAFA;color:#383A42" tabindex="0"><code><span class="line"><span style="color:#A0A1A7;font-style:italic">// ./delta/deltaReducer.ts</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A626A4">import</span><span style="color:#383A42"> { </span><span style="color:#E45649">state</span><span style="color:#383A42"> } </span><span style="color:#A626A4">from</span><span style="color:#50A14F"> './deltaState'</span></span>
<span class="line"><span style="color:#A626A4">import</span><span style="color:#383A42"> { </span><span style="color:#E45649">TDeltaActions</span><span style="color:#383A42"> } </span><span style="color:#A626A4">from</span><span style="color:#50A14F"> './deltaActions'</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A626A4">export</span><span style="color:#A626A4"> const</span><span style="color:#986801"> reducer</span><span style="color:#0184BC"> =</span><span style="color:#E45649"> state</span><span style="color:#383A42">.</span><span style="color:#4078F2">createReducer</span><span style="color:#383A42">&#x3C;</span><span style="color:#C18401">TDeltaActions</span><span style="color:#383A42">>({</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4078F2">    setSearchValue</span><span style="color:#383A42">({state, payload}) {</span></span>
<span class="line"><span style="color:#E45649">        state</span><span style="color:#383A42">.</span><span style="color:#E45649">value</span><span style="color:#0184BC"> =</span><span style="color:#E45649"> payload</span><span style="color:#383A42">.</span><span style="color:#E45649">value</span></span>
<span class="line"><span style="color:#383A42">    }</span></span>
<span class="line"><span style="color:#383A42">    </span></span>
<span class="line"><span style="color:#383A42">})</span></span>
<span class="line"></span></code></pre>
      </div>
    </div>
  </div>
</body>

</html>