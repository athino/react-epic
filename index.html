<!DOCTYPE html>
<!DOCTYPE html>
<html lang="no">

<head>
  <meta charSet="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="" />
  <title class="cushycms"></title>
  <div class="cushycms-text"></div>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Roboto+Mono:ital,wght@0,100..700;1,100..700&family=Roboto:ital,wght@0,100..900;1,100..900&display=swap');

    body {
      margin: 0;
    }

    * {
      font-family: "Roboto", sans-serif;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }
  </style>
  <style data-styled="" data-styled-version="6.1.14">
    .gDHuba {
      position: relative;
      overflow: hidden;
      min-height: 100%;
      width: 100%;
      margin: 0;
      color: white;
      box-sizing: border-box;
      background: rgb(246, 246, 247);
      display: inline-block;
      padding: 20px;
      min-width: 300px;
      border-radius: 8px;
    }

    /*!sc*/
    .gDHuba,
    .gDHuba * {
      font-family: "Roboto Mono", serif;
      font-size: 14px;
    }

    /*!sc*/
    data-styled.g1[id="sc-KXCwU"] {
      content: "gDHuba,"
    }

    /*!sc*/
    .ioKIXQ {
      overflow: hidden;
      min-height: 100%;
      margin: 0;
      background: #181b20;
      color: white;
    }

    /*!sc*/
    data-styled.g2[id="sc-gyycJP"] {
      content: "ioKIXQ,"
    }

    /*!sc*/
    .jhwxht {
      position: absolute;
      height: 100dvh;
      left: 260px;
      right: 0;
      overscroll-behavior: contain;
      overflow-y: auto;
      background: white;
      color: #181b20;
    }

    /*!sc*/
    data-styled.g3[id="sc-eaUbBy"] {
      content: "jhwxht,"
    }

    /*!sc*/
    .gGoQjv {
      position: absolute;
      height: 100dvh;
      left: 0;
      top: 0;
      width: 260px;
      overscroll-behavior: contain;
      overflow-y: auto;
      background: #252830;
      color: white;
    }

    /*!sc*/
    data-styled.g4[id="sc-gaZyOd"] {
      content: "gGoQjv,"
    }

    /*!sc*/
    .ddwJXo {
      position: absolute;
      left: 20px;
      right: 20px;
      top: 20px;
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    /*!sc*/
    data-styled.g5[id="sc-dDvxFM"] {
      content: "ddwJXo,"
    }

    /*!sc*/
    .dZjdXE {
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 800;
      font-size: 24px;
      color: #f6f6f6;
      letter-spacing: 0.12em;
      height: 70px;
      background: #20222a;
    }

    /*!sc*/
    data-styled.g6[id="sc-jqVXSH"] {
      content: "dZjdXE,"
    }

    /*!sc*/
    .kuttPF {
      display: flex;
      height: 70px;
      background: rgb(246, 246, 247);
    }

    /*!sc*/
    data-styled.g7[id="sc-gTrWKq"] {
      content: "kuttPF,"
    }

    /*!sc*/
    .gtbGMd {
      font-size: 28px;
      font-weight: 500;
    }

    /*!sc*/
    data-styled.g8[id="sc-kuACkN"] {
      content: "gtbGMd,"
    }

    /*!sc*/
    .bTIIDm {
      color: rgb(60, 60, 67);
      font-size: 16px;
    }

    /*!sc*/
    data-styled.g9[id="sc-hWWBcw"] {
      content: "bTIIDm,"
    }

    /*!sc*/
  </style>
</head>

<body class="sc-gyycJP ioKIXQ">
  <div class="sc-gaZyOd gGoQjv">
    <div class="sc-jqVXSH dZjdXE">REACTIONS</div>
  </div>
  <div class="sc-eaUbBy jhwxht">
    <div class="sc-gTrWKq kuttPF"></div>
    <div class="sc-dDvxFM ddwJXo">
      <div class="sc-kuACkN gtbGMd">Usage</div>
      <div class="sc-hWWBcw bTIIDm">1. Setting up domain actions</div>
      <div class="sc-hWWBcw bTIIDm">Within your app, for instance under
        `@/user/`, add a file called `userActions.ts`.</div>
      <pre class="sc-KXCwU gDHuba"><pre class="shiki one-dark-pro" style="background-color:#282c34;color:#abb2bf" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic">// ./app.tsx</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD">import</span><span style="color:#E06C75"> React</span><span style="color:#C678DD"> from</span><span style="color:#98C379"> 'react'</span><span style="color:#ABB2BF">;</span></span>
<span class="line"><span style="color:#C678DD">import</span><span style="color:#ABB2BF"> { </span><span style="color:#E06C75">Component</span><span style="color:#ABB2BF"> } </span><span style="color:#C678DD">from</span><span style="color:#98C379"> './example/component/component'</span><span style="color:#ABB2BF">;</span></span>
<span class="line"><span style="color:#C678DD">import</span><span style="color:#ABB2BF"> { </span><span style="color:#E06C75">Provider</span><span style="color:#ABB2BF"> } </span><span style="color:#C678DD">from</span><span style="color:#98C379"> './example/state/consumer'</span><span style="color:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD">export</span><span style="color:#C678DD"> const</span><span style="color:#61AFEF"> App</span><span style="color:#56B6C2"> =</span><span style="color:#ABB2BF"> () </span><span style="color:#C678DD">=></span><span style="color:#ABB2BF"> {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD">    return</span><span style="color:#ABB2BF"> (</span></span>
<span class="line"><span style="color:#ABB2BF">        &#x3C;</span><span style="color:#E5C07B">Provider</span><span style="color:#ABB2BF">></span></span>
<span class="line"><span style="color:#ABB2BF">            &#x3C;</span><span style="color:#E5C07B">Component</span><span style="color:#ABB2BF">/></span></span>
<span class="line"><span style="color:#ABB2BF">        &#x3C;/</span><span style="color:#E5C07B">Provider</span><span style="color:#ABB2BF">></span></span>
<span class="line"><span style="color:#ABB2BF">    )</span></span>
<span class="line"><span style="color:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
      </pre>
      <pre class="sc-KXCwU gDHuba"><pre class="shiki one-dark-pro" style="background-color:#282c34;color:#abb2bf" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic">// ./echo/echoState.ts</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD">import</span><span style="color:#ABB2BF"> { </span><span style="color:#E06C75">createState</span><span style="color:#ABB2BF">, </span><span style="color:#E06C75">DefineState</span><span style="color:#ABB2BF"> } </span><span style="color:#C678DD">from</span><span style="color:#98C379"> '../../epic'</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD">type</span><span style="color:#E5C07B"> TEchoState</span><span style="color:#56B6C2"> =</span><span style="color:#E5C07B"> DefineState</span><span style="color:#ABB2BF">&#x3C;{</span></span>
<span class="line"><span style="color:#E06C75">    searchResult</span><span style="color:#ABB2BF">: </span><span style="color:#E5C07B">number</span><span style="color:#ABB2BF">,</span></span>
<span class="line"><span style="color:#E06C75">    searching</span><span style="color:#ABB2BF">: </span><span style="color:#E5C07B">boolean</span></span>
<span class="line"><span style="color:#ABB2BF">}></span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD">export</span><span style="color:#C678DD"> const</span><span style="color:#E5C07B"> state</span><span style="color:#56B6C2"> =</span><span style="color:#61AFEF"> createState</span><span style="color:#ABB2BF">&#x3C;</span><span style="color:#E5C07B">TEchoState</span><span style="color:#ABB2BF">>({</span></span>
<span class="line"><span style="color:#E06C75">    searchResult</span><span style="color:#ABB2BF">: </span><span style="color:#D19A66">0</span><span style="color:#ABB2BF">,</span></span>
<span class="line"><span style="color:#E06C75">    searching</span><span style="color:#ABB2BF">: </span><span style="color:#D19A66">false</span></span>
<span class="line"><span style="color:#ABB2BF">})</span></span>
<span class="line"></span></code></pre>
      </pre>
      <pre class="sc-KXCwU gDHuba"><pre class="shiki one-dark-pro" style="background-color:#282c34;color:#abb2bf" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic">// ./state/consumer.ts</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD">import</span><span style="color:#ABB2BF"> { </span><span style="color:#E06C75">root</span><span style="color:#ABB2BF"> } </span><span style="color:#C678DD">from</span><span style="color:#98C379"> './root'</span></span>
<span class="line"><span style="color:#C678DD">import</span><span style="color:#ABB2BF"> { </span><span style="color:#E06C75">effects</span><span style="color:#C678DD"> as</span><span style="color:#E06C75"> deltaEffects</span><span style="color:#ABB2BF"> } </span><span style="color:#C678DD">from</span><span style="color:#98C379"> '../delta/deltaEffects'</span></span>
<span class="line"><span style="color:#C678DD">import</span><span style="color:#ABB2BF"> { </span><span style="color:#E06C75">effects</span><span style="color:#C678DD"> as</span><span style="color:#E06C75"> echoEffects</span><span style="color:#ABB2BF"> } </span><span style="color:#C678DD">from</span><span style="color:#98C379"> '../echo/echoEffects'</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD">const</span><span style="color:#E5C07B"> consumer</span><span style="color:#56B6C2"> =</span><span style="color:#E5C07B"> root</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">createConsumer</span><span style="color:#ABB2BF">({</span></span>
<span class="line"><span style="color:#E06C75">    effects</span><span style="color:#ABB2BF">: [</span></span>
<span class="line"><span style="color:#ABB2BF">        ...</span><span style="color:#E5C07B">deltaEffects</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">getEffects</span><span style="color:#ABB2BF">(),</span></span>
<span class="line"><span style="color:#ABB2BF">        ...</span><span style="color:#E5C07B">echoEffects</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">getEffects</span><span style="color:#ABB2BF">()</span></span>
<span class="line"><span style="color:#ABB2BF">    ]</span></span>
<span class="line"><span style="color:#ABB2BF">})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD">export</span><span style="color:#C678DD"> const</span><span style="color:#E5C07B"> useActions</span><span style="color:#56B6C2"> =</span><span style="color:#E5C07B"> consumer</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">createHook</span><span style="color:#ABB2BF">()</span></span>
<span class="line"><span style="color:#C678DD">export</span><span style="color:#C678DD"> const</span><span style="color:#E5C07B"> Provider</span><span style="color:#56B6C2"> =</span><span style="color:#E5C07B"> consumer</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">createProvider</span><span style="color:#ABB2BF">()</span></span>
<span class="line"></span></code></pre>
      </pre>
      <pre class="sc-KXCwU gDHuba"><pre class="shiki one-dark-pro" style="background-color:#282c34;color:#abb2bf" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic">// ./state/root.ts</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD">import</span><span style="color:#ABB2BF"> { </span><span style="color:#E06C75">createRoot</span><span style="color:#ABB2BF"> } </span><span style="color:#C678DD">from</span><span style="color:#98C379"> '../../epic/index'</span></span>
<span class="line"><span style="color:#C678DD">import</span><span style="color:#ABB2BF"> { </span><span style="color:#E06C75">reducer</span><span style="color:#C678DD"> as</span><span style="color:#E06C75"> deltaReducer</span><span style="color:#ABB2BF"> } </span><span style="color:#C678DD">from</span><span style="color:#98C379"> '../delta/deltaReducer'</span></span>
<span class="line"><span style="color:#C678DD">import</span><span style="color:#ABB2BF"> { </span><span style="color:#E06C75">reducer</span><span style="color:#C678DD"> as</span><span style="color:#E06C75"> echoReducer</span><span style="color:#ABB2BF"> } </span><span style="color:#C678DD">from</span><span style="color:#98C379"> '../echo/echoReducer'</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD">export</span><span style="color:#C678DD"> const</span><span style="color:#E5C07B"> root</span><span style="color:#56B6C2"> =</span><span style="color:#61AFEF"> createRoot</span><span style="color:#ABB2BF">({</span></span>
<span class="line"><span style="color:#E06C75">    domains</span><span style="color:#ABB2BF">: {</span></span>
<span class="line"><span style="color:#E06C75">        delta</span><span style="color:#ABB2BF">: </span><span style="color:#E06C75">deltaReducer</span><span style="color:#ABB2BF">,</span></span>
<span class="line"><span style="color:#E06C75">        echo</span><span style="color:#ABB2BF">: </span><span style="color:#E06C75">echoReducer</span></span>
<span class="line"><span style="color:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#ABB2BF">})</span></span>
<span class="line"></span></code></pre>
      </pre>
      <pre class="sc-KXCwU gDHuba"><pre class="shiki one-dark-pro" style="background-color:#282c34;color:#abb2bf" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic">// ./component/component.tsx</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD">import</span><span style="color:#E06C75"> React</span><span style="color:#C678DD"> from</span><span style="color:#98C379"> "react"</span></span>
<span class="line"><span style="color:#C678DD">import</span><span style="color:#ABB2BF"> { </span><span style="color:#E06C75">useActions</span><span style="color:#ABB2BF"> } </span><span style="color:#C678DD">from</span><span style="color:#98C379"> "../state/consumer"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD">export</span><span style="color:#C678DD"> const</span><span style="color:#61AFEF"> Component</span><span style="color:#56B6C2"> =</span><span style="color:#ABB2BF"> () </span><span style="color:#C678DD">=></span><span style="color:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#C678DD">    const</span><span style="color:#ABB2BF"> {</span><span style="color:#E5C07B">actions</span><span style="color:#ABB2BF">, </span><span style="color:#E5C07B">data</span><span style="color:#ABB2BF">} </span><span style="color:#56B6C2">=</span><span style="color:#61AFEF"> useActions</span><span style="color:#ABB2BF">(({</span><span style="color:#E06C75;font-style:italic">echo</span><span style="color:#ABB2BF">, </span><span style="color:#E06C75;font-style:italic">delta</span><span style="color:#ABB2BF">}) </span><span style="color:#C678DD">=></span><span style="color:#ABB2BF"> ({</span></span>
<span class="line"><span style="color:#E06C75">        searchResult</span><span style="color:#ABB2BF">: </span><span style="color:#E5C07B">echo</span><span style="color:#ABB2BF">.</span><span style="color:#E06C75">searchResult</span><span style="color:#ABB2BF">,</span></span>
<span class="line"><span style="color:#E06C75">        value</span><span style="color:#ABB2BF">: </span><span style="color:#E5C07B">delta</span><span style="color:#ABB2BF">.</span><span style="color:#E06C75">value</span><span style="color:#ABB2BF">,</span></span>
<span class="line"><span style="color:#E06C75">        searching</span><span style="color:#ABB2BF">: </span><span style="color:#E5C07B">echo</span><span style="color:#ABB2BF">.</span><span style="color:#E06C75">searching</span></span>
<span class="line"><span style="color:#ABB2BF">    }))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD">    return</span><span style="color:#ABB2BF"> (</span></span>
<span class="line"><span style="color:#ABB2BF">        &#x3C;</span><span style="color:#E06C75">div</span><span style="color:#ABB2BF">></span></span>
<span class="line"><span style="color:#ABB2BF">            &#x3C;</span><span style="color:#E06C75">input</span></span>
<span class="line"><span style="color:#D19A66;font-style:italic">                type</span><span style="color:#56B6C2">=</span><span style="color:#98C379">'text'</span></span>
<span class="line"><span style="color:#D19A66;font-style:italic">                value</span><span style="color:#56B6C2">=</span><span style="color:#C678DD">{</span><span style="color:#E5C07B">data</span><span style="color:#ABB2BF">.</span><span style="color:#E06C75">value</span><span style="color:#C678DD">}</span></span>
<span class="line"><span style="color:#D19A66;font-style:italic">                onChange</span><span style="color:#56B6C2">=</span><span style="color:#C678DD">{</span><span style="color:#ABB2BF">({</span><span style="color:#E06C75;font-style:italic">target</span><span style="color:#ABB2BF">}) </span><span style="color:#C678DD">=></span><span style="color:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#E5C07B">                    actions</span><span style="color:#ABB2BF">.</span><span style="color:#E5C07B">delta</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">setSearchValue</span><span style="color:#ABB2BF">({</span></span>
<span class="line"><span style="color:#E06C75">                        value</span><span style="color:#ABB2BF">: </span><span style="color:#E5C07B">target</span><span style="color:#ABB2BF">.</span><span style="color:#E06C75">value</span></span>
<span class="line"><span style="color:#ABB2BF">                    })</span></span>
<span class="line"><span style="color:#ABB2BF">                }</span><span style="color:#C678DD">}</span><span style="color:#ABB2BF">/></span></span>
<span class="line"><span style="color:#ABB2BF">            &#x3C;</span><span style="color:#E06C75">div</span><span style="color:#ABB2BF">></span></span>
<span class="line"><span style="color:#ABB2BF">                Search result: </span><span style="color:#C678DD">{</span><span style="color:#E5C07B">data</span><span style="color:#ABB2BF">.</span><span style="color:#E06C75">searching</span><span style="color:#C678DD"> ?</span><span style="color:#98C379"> 'Searching...'</span><span style="color:#C678DD"> :</span><span style="color:#E5C07B"> data</span><span style="color:#ABB2BF">.</span><span style="color:#E06C75">searchResult</span><span style="color:#C678DD">}</span></span>
<span class="line"><span style="color:#ABB2BF">            &#x3C;/</span><span style="color:#E06C75">div</span><span style="color:#ABB2BF">></span></span>
<span class="line"><span style="color:#ABB2BF">        &#x3C;/</span><span style="color:#E06C75">div</span><span style="color:#ABB2BF">></span></span>
<span class="line"><span style="color:#ABB2BF">    )</span></span>
<span class="line"><span style="color:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
      </pre>
      <pre class="sc-KXCwU gDHuba"><pre class="shiki one-dark-pro" style="background-color:#282c34;color:#abb2bf" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic">// ./delta/deltaActions.ts</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD">import</span><span style="color:#ABB2BF"> { </span><span style="color:#E06C75">DefineActions</span><span style="color:#ABB2BF"> } </span><span style="color:#C678DD">from</span><span style="color:#98C379"> "../../epic"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD">export</span><span style="color:#C678DD"> type</span><span style="color:#E5C07B"> TDeltaActions</span><span style="color:#56B6C2"> =</span><span style="color:#E5C07B"> DefineActions</span><span style="color:#ABB2BF">&#x3C;{</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E06C75">    setSearchValue</span><span style="color:#ABB2BF">: {</span></span>
<span class="line"><span style="color:#E06C75">        payload</span><span style="color:#ABB2BF">: {</span></span>
<span class="line"><span style="color:#E06C75">            value</span><span style="color:#ABB2BF">: </span><span style="color:#E5C07B">string</span></span>
<span class="line"><span style="color:#ABB2BF">        }</span></span>
<span class="line"><span style="color:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#ABB2BF">    </span></span>
<span class="line"><span style="color:#ABB2BF">}></span></span>
<span class="line"></span></code></pre>
      </pre>
      <pre class="sc-KXCwU gDHuba"><pre class="shiki one-dark-pro" style="background-color:#282c34;color:#abb2bf" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic">// ./delta/deltaEffects.ts</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD">import</span><span style="color:#ABB2BF"> { </span><span style="color:#E06C75">root</span><span style="color:#ABB2BF"> } </span><span style="color:#C678DD">from</span><span style="color:#98C379"> "../state/root"</span><span style="color:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD">export</span><span style="color:#C678DD"> const</span><span style="color:#E5C07B"> effects</span><span style="color:#56B6C2"> =</span><span style="color:#E5C07B"> root</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">createEffects</span><span style="color:#ABB2BF">()</span></span>
<span class="line"></span></code></pre>
      </pre>
      <pre class="sc-KXCwU gDHuba"><pre class="shiki one-dark-pro" style="background-color:#282c34;color:#abb2bf" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic">// ./delta/deltaReducer.ts</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD">import</span><span style="color:#ABB2BF"> { </span><span style="color:#E06C75">state</span><span style="color:#ABB2BF"> } </span><span style="color:#C678DD">from</span><span style="color:#98C379"> './deltaState'</span></span>
<span class="line"><span style="color:#C678DD">import</span><span style="color:#ABB2BF"> { </span><span style="color:#E06C75">TDeltaActions</span><span style="color:#ABB2BF"> } </span><span style="color:#C678DD">from</span><span style="color:#98C379"> './deltaActions'</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD">export</span><span style="color:#C678DD"> const</span><span style="color:#E5C07B"> reducer</span><span style="color:#56B6C2"> =</span><span style="color:#E5C07B"> state</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">createReducer</span><span style="color:#ABB2BF">&#x3C;</span><span style="color:#E5C07B">TDeltaActions</span><span style="color:#ABB2BF">>({</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF">    setSearchValue</span><span style="color:#ABB2BF">({</span><span style="color:#E06C75;font-style:italic">state</span><span style="color:#ABB2BF">, </span><span style="color:#E06C75;font-style:italic">payload</span><span style="color:#ABB2BF">}) {</span></span>
<span class="line"><span style="color:#E5C07B">        state</span><span style="color:#ABB2BF">.</span><span style="color:#E06C75">value</span><span style="color:#56B6C2"> =</span><span style="color:#E5C07B"> payload</span><span style="color:#ABB2BF">.</span><span style="color:#E06C75">value</span></span>
<span class="line"><span style="color:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#ABB2BF">    </span></span>
<span class="line"><span style="color:#ABB2BF">})</span></span>
<span class="line"></span></code></pre>
      </pre>
      <pre class="sc-KXCwU gDHuba"><pre class="shiki one-dark-pro" style="background-color:#282c34;color:#abb2bf" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic">// ./delta/deltaState.ts</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD">import</span><span style="color:#ABB2BF"> { </span><span style="color:#E06C75">createState</span><span style="color:#ABB2BF">, </span><span style="color:#E06C75">DefineState</span><span style="color:#ABB2BF"> } </span><span style="color:#C678DD">from</span><span style="color:#98C379"> '../../epic'</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD">type</span><span style="color:#E5C07B"> TDeltaState</span><span style="color:#56B6C2"> =</span><span style="color:#E5C07B"> DefineState</span><span style="color:#ABB2BF">&#x3C;{</span></span>
<span class="line"><span style="color:#E06C75">    value</span><span style="color:#ABB2BF">: </span><span style="color:#E5C07B">string</span></span>
<span class="line"><span style="color:#ABB2BF">}></span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD">export</span><span style="color:#C678DD"> const</span><span style="color:#E5C07B"> state</span><span style="color:#56B6C2"> =</span><span style="color:#61AFEF"> createState</span><span style="color:#ABB2BF">&#x3C;</span><span style="color:#E5C07B">TDeltaState</span><span style="color:#ABB2BF">>({</span></span>
<span class="line"><span style="color:#E06C75">    value</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">'skriv her...'</span></span>
<span class="line"><span style="color:#ABB2BF">})</span></span>
<span class="line"></span></code></pre>
      </pre>
      <pre class="sc-KXCwU gDHuba"><pre class="shiki one-dark-pro" style="background-color:#282c34;color:#abb2bf" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic">// ./echo/echoActions.ts</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD">import</span><span style="color:#ABB2BF"> { </span><span style="color:#E06C75">DefineActions</span><span style="color:#ABB2BF"> } </span><span style="color:#C678DD">from</span><span style="color:#98C379"> "../../epic"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD">export</span><span style="color:#C678DD"> type</span><span style="color:#E5C07B"> TEchoActions</span><span style="color:#56B6C2"> =</span><span style="color:#E5C07B"> DefineActions</span><span style="color:#ABB2BF">&#x3C;{</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E06C75">    setSearchResult</span><span style="color:#ABB2BF">: {</span></span>
<span class="line"><span style="color:#E06C75">        payload</span><span style="color:#ABB2BF">: {</span></span>
<span class="line"><span style="color:#E06C75">            searchResult</span><span style="color:#ABB2BF">: </span><span style="color:#E5C07B">number</span></span>
<span class="line"><span style="color:#ABB2BF">        }</span></span>
<span class="line"><span style="color:#ABB2BF">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E06C75">    setSearching</span><span style="color:#ABB2BF">: {</span></span>
<span class="line"><span style="color:#E06C75">        payload</span><span style="color:#ABB2BF">: {</span></span>
<span class="line"><span style="color:#E06C75">            searching</span><span style="color:#ABB2BF">: </span><span style="color:#E5C07B">boolean</span></span>
<span class="line"><span style="color:#ABB2BF">        }</span></span>
<span class="line"><span style="color:#ABB2BF">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF">}></span></span>
<span class="line"></span></code></pre>
      </pre>
      <pre class="sc-KXCwU gDHuba"><pre class="shiki one-dark-pro" style="background-color:#282c34;color:#abb2bf" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic">// ./echo/echoEffects.ts</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD">import</span><span style="color:#ABB2BF"> { </span><span style="color:#E06C75">root</span><span style="color:#ABB2BF"> } </span><span style="color:#C678DD">from</span><span style="color:#98C379"> "../state/root"</span><span style="color:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD">export</span><span style="color:#C678DD"> const</span><span style="color:#E5C07B"> effects</span><span style="color:#56B6C2"> =</span><span style="color:#E5C07B"> root</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">createEffects</span><span style="color:#ABB2BF">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E5C07B">effects</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">addEffect</span><span style="color:#ABB2BF">({</span></span>
<span class="line"><span style="color:#E06C75">    domain</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">'delta'</span><span style="color:#ABB2BF">,</span></span>
<span class="line"><span style="color:#E06C75">    action</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">'setSearchValue'</span><span style="color:#ABB2BF">,</span></span>
<span class="line"><span style="color:#E06C75">    type</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">'takeLatest'</span><span style="color:#ABB2BF">,</span></span>
<span class="line"><span style="color:#C678DD">    async</span><span style="color:#61AFEF"> handler</span><span style="color:#ABB2BF">(</span><span style="color:#E06C75;font-style:italic">ctx</span><span style="color:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#C678DD">        if</span><span style="color:#ABB2BF"> (</span><span style="color:#E5C07B">ctx</span><span style="color:#ABB2BF">.</span><span style="color:#E5C07B">action</span><span style="color:#ABB2BF">.</span><span style="color:#E5C07B">payload</span><span style="color:#ABB2BF">.</span><span style="color:#E06C75">value</span><span style="color:#56B6C2"> !==</span><span style="color:#98C379"> ''</span><span style="color:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#E5C07B">            ctx</span><span style="color:#ABB2BF">.</span><span style="color:#E5C07B">actions</span><span style="color:#ABB2BF">.</span><span style="color:#E5C07B">echo</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">setSearching</span><span style="color:#ABB2BF">({ </span><span style="color:#E06C75">searching</span><span style="color:#ABB2BF">: </span><span style="color:#D19A66">true</span><span style="color:#ABB2BF"> })</span></span>
<span class="line"><span style="color:#C678DD">            await</span><span style="color:#61AFEF"> sleep</span><span style="color:#ABB2BF">(</span><span style="color:#D19A66">2000</span><span style="color:#ABB2BF">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E5C07B">            ctx</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">call</span><span style="color:#ABB2BF">(() </span><span style="color:#C678DD">=></span><span style="color:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#E5C07B">                console</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">log</span><span style="color:#ABB2BF">(</span><span style="color:#98C379">'"Started" fetch...'</span><span style="color:#ABB2BF">)</span></span>
<span class="line"><span style="color:#ABB2BF">            })</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E5C07B">            ctx</span><span style="color:#ABB2BF">.</span><span style="color:#E5C07B">actions</span><span style="color:#ABB2BF">.</span><span style="color:#E5C07B">echo</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">setSearchResult</span><span style="color:#ABB2BF">({</span></span>
<span class="line"><span style="color:#E06C75">                searchResult</span><span style="color:#ABB2BF">: </span><span style="color:#E5C07B">ctx</span><span style="color:#ABB2BF">.</span><span style="color:#E5C07B">state</span><span style="color:#ABB2BF">.</span><span style="color:#E5C07B">echo</span><span style="color:#ABB2BF">.</span><span style="color:#E06C75">searchResult</span><span style="color:#56B6C2"> +</span><span style="color:#D19A66"> 1</span></span>
<span class="line"><span style="color:#ABB2BF">            })</span></span>
<span class="line"><span style="color:#ABB2BF">        } </span><span style="color:#C678DD">else</span><span style="color:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#E5C07B">            ctx</span><span style="color:#ABB2BF">.</span><span style="color:#E5C07B">actions</span><span style="color:#ABB2BF">.</span><span style="color:#E5C07B">echo</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">setSearching</span><span style="color:#ABB2BF">({ </span><span style="color:#E06C75">searching</span><span style="color:#ABB2BF">: </span><span style="color:#D19A66">false</span><span style="color:#ABB2BF"> })</span></span>
<span class="line"><span style="color:#ABB2BF">        }</span></span>
<span class="line"><span style="color:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#ABB2BF">})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD">const</span><span style="color:#61AFEF"> sleep</span><span style="color:#56B6C2"> =</span><span style="color:#ABB2BF"> (</span><span style="color:#E06C75;font-style:italic">ms</span><span style="color:#ABB2BF">: </span><span style="color:#E5C07B">number</span><span style="color:#ABB2BF">): </span><span style="color:#E5C07B">Promise</span><span style="color:#ABB2BF">&#x3C;</span><span style="color:#E5C07B">void</span><span style="color:#ABB2BF">> </span><span style="color:#C678DD">=></span><span style="color:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#C678DD">    return</span><span style="color:#C678DD"> new</span><span style="color:#E5C07B"> Promise</span><span style="color:#ABB2BF">(</span><span style="color:#E06C75;font-style:italic">resolve</span><span style="color:#C678DD"> =></span><span style="color:#61AFEF"> setTimeout</span><span style="color:#ABB2BF">(</span><span style="color:#E06C75">resolve</span><span style="color:#ABB2BF">, </span><span style="color:#E06C75">ms</span><span style="color:#ABB2BF">))</span></span>
<span class="line"><span style="color:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
      </pre>
      <pre class="sc-KXCwU gDHuba"><pre class="shiki one-dark-pro" style="background-color:#282c34;color:#abb2bf" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic">// ./echo/echoReducer.ts</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD">import</span><span style="color:#ABB2BF"> { </span><span style="color:#E06C75">state</span><span style="color:#ABB2BF"> } </span><span style="color:#C678DD">from</span><span style="color:#98C379"> './echoState'</span></span>
<span class="line"><span style="color:#C678DD">import</span><span style="color:#ABB2BF"> { </span><span style="color:#E06C75">TEchoActions</span><span style="color:#ABB2BF"> } </span><span style="color:#C678DD">from</span><span style="color:#98C379"> './echoActions'</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD">export</span><span style="color:#C678DD"> const</span><span style="color:#E5C07B"> reducer</span><span style="color:#56B6C2"> =</span><span style="color:#E5C07B"> state</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">createReducer</span><span style="color:#ABB2BF">&#x3C;</span><span style="color:#E5C07B">TEchoActions</span><span style="color:#ABB2BF">>({</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF">    setSearchResult</span><span style="color:#ABB2BF">({</span><span style="color:#E06C75;font-style:italic">state</span><span style="color:#ABB2BF">, </span><span style="color:#E06C75;font-style:italic">payload</span><span style="color:#ABB2BF">}) {</span></span>
<span class="line"><span style="color:#E5C07B">        state</span><span style="color:#ABB2BF">.</span><span style="color:#E06C75">searchResult</span><span style="color:#56B6C2"> =</span><span style="color:#E5C07B"> payload</span><span style="color:#ABB2BF">.</span><span style="color:#E06C75">searchResult</span></span>
<span class="line"><span style="color:#E5C07B">        state</span><span style="color:#ABB2BF">.</span><span style="color:#E06C75">searching</span><span style="color:#56B6C2"> =</span><span style="color:#D19A66"> false</span></span>
<span class="line"><span style="color:#ABB2BF">    },</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF">    setSearching</span><span style="color:#ABB2BF">({</span><span style="color:#E06C75;font-style:italic">state</span><span style="color:#ABB2BF">, </span><span style="color:#E06C75;font-style:italic">payload</span><span style="color:#ABB2BF">}) {</span></span>
<span class="line"><span style="color:#E5C07B">        state</span><span style="color:#ABB2BF">.</span><span style="color:#E06C75">searching</span><span style="color:#56B6C2"> =</span><span style="color:#E5C07B"> payload</span><span style="color:#ABB2BF">.</span><span style="color:#E06C75">searching</span></span>
<span class="line"><span style="color:#ABB2BF">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF">})</span></span>
<span class="line"></span></code></pre>
      </pre>
    </div>
  </div>
</body>

</html>